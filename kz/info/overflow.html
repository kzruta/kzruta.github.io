<!DOCTYPE html>
<html class="" lang="ru"><head>
<meta charset="utf-8">


    <link rel="stylesheet" href="overflow_files/core.css">
    <link rel="stylesheet" href="overflow_files/text.css">
    <link rel="stylesheet" href="overflow_files/profile.css">
    <link rel="preload" as="script" href="overflow_files/general.js">
    <title>Вёрстка текстового содержимого страниц: Переполнение текстом, однострочное и&nbsp;многострочное - HTML Academy</title>
    <meta name="theme-color" content="#2f358f">

 
  </head><body>

  <div class="page-content page-content--chapter page-content--skill"><div class="page-content__inner"><div class="page-content__left"><aside class="page-content__left-column"><div class="side-menu side-menu--main side-menu--skill"><h2><a href="../start.html">Вёрстка текстового содержимого страниц</a></h2><p class="side-menu__title"><a class="side-menu__link side-menu__link--main link">Навык</a><button class="side-menu__button" type="button"><span class="sr-only">Меню</span><svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path stroke-width="2" d="M2 2h18v18H2z"></path><path d="M6 7h10.096M6 11h10.096M6 15h6" stroke-width="2" stroke-linecap="square"></path></svg></button></p><div class="side-menu__list"><ul><li class="side-menu__item side-menu__item--active"><a class="link" href="tutorial.html">Обзор основных тем и&nbsp;элементов</a></li><li class="side-menu__item "><a class="link" href="theory.html">Углублённая теория</a></li><li class="side-menu__item "><a class="link" href="methodology.html">Методология вёрстки текстовых элементов</a></li><li class="side-menu__item "><a class="link" href="case-01.html">Кейс&nbsp;1, лёгкий уровень</a></li><li class="side-menu__item "><a class="link" href="case-02.html">Кейс&nbsp;2, лёгкий уровень</a></li><li class="side-menu__item "><a class="link" href="case-03.html">Кейс&nbsp;3, лёгкий уровень</a></li><li class="side-menu__item "><a class="link" href="accessory.html">Дополнительная теория</a></li></ul><div class="chapter-extras"><span class="badge badge--green"><span class="badge__text">
              полный комплект
            </span></span></div></div></div><div class="side-menu__list"></div></aside></div><div class="page-content__right"><nav class="breadcrumbs breadcrumbs--chapter" itemscope="" itemtype="http://schema.org/SiteNavigationElement"><ul class="breadcrumbs__list"><li class="breadcrumbs__item" itemprop="name"><a href="https://htmlacademy.ru/" itemprop="url">Главная</a></li><li class="breadcrumbs__item" itemprop="name"><a href="https://htmlacademy.ru/study" itemprop="url">Моё обучение</a></li><li class="breadcrumbs__item" itemprop="name"><a href="https://htmlacademy.ru/skills/text-layout" itemprop="url">Вёрстка текстового содержимого страниц</a></li></ul></nav><div class="chapter-description"><h1 class="chapter-description__title">
            Переполнение текстом, однострочное и&nbsp;многострочное
          </h1><div class="chapter-description__content chapter-description__content--theory"><div class="chapter-description__text text-container"><p>Что
 сделать, чтобы текст помещался в&nbsp;оставленное для него пространство
 или хотя&nbsp;бы обрезался так, чтобы не&nbsp;раздвигать соседние 
элементы? Например, если лид новости выводится на&nbsp;общей странице 
новостей и&nbsp;он&nbsp;слишком велик для своего поля?</p><p>Если 
контейнер, содержащий текст, имеет конкретные размеры, то&nbsp;судьба 
того, что за&nbsp;эти размеры вылезает, решается свойством <code>overflow</code>. По&nbsp;умолчанию у&nbsp;свойства значение <code>visible</code>, и&nbsp;контент выходит за&nbsp;границы контейнера и&nbsp;может находить на&nbsp;соседние блоки. Со&nbsp;значением <code>overflow: hidden</code> всё, что не&nbsp;поместилось, просто обрежется. Значение <code>auto</code> в&nbsp;случаях переполнения контейнера выводит полосу прокрутки. Если полоса прокрутки нужна всегда, выбирается <code>overflow: scroll</code>. Свойство <code>overflow</code>
 обрабатывает действия при переполнении контентом по&nbsp;горизонтали 
и&nbsp;вертикали. Если нужно управлять одним из&nbsp;направлений, 
используется <code>overflow-x</code> для горизонтальной оси и&nbsp;<code>overflow-y</code> для вертикальной.</p><p>Теперь рассмотрим другие возможные случаи переполнения текстом и&nbsp;способы их&nbsp;обработки.</p><h2>Однострочный длинный текст</h2><p>CSS-свойство <code>text-overflow</code> применяется для управления переполнением текста. У&nbsp;свойства есть два основных значения: <code>clip</code> для обрезания содержимого, которое не&nbsp;поместилось, и&nbsp;<code>ellipsis</code> для подстановки многоточия вместо невошедшей части. Значение <code>text-overflow: ellipsis</code>
 обычно и&nbsp;применяется в&nbsp;таких ситуациях, и&nbsp;многоточие 
возникает в&nbsp;самом лучшем случае после случайного слова. 
То&nbsp;есть смысл фразы может быть безвозвратно испорчен.</p><figure><img src="overflow_files/skill_text_method_30.png" srcset="https://assets.htmlacademy.ru/content/skills/5/skill_text_method_30@2x.png 2x" alt="Однажды я провёл в размышлениях целый день без еды, тут место в контейнере закончилось"><figcaption><span class="figurecaption-inside">Фраза
 должна была быть гораздо длиннее, но&nbsp;контейнер однострочный, фраза
 не&nbsp;влезла, смысл высказывания остаётся неясным</span></figcaption></figure><div class="spoiler"><button class="spoiler__button" data-toggle="part1" data-toggle-class="spoiler__button--opened"><span>Вёрстка элемента</span></button><div class="spoiler__content hidden" data-toggle-area="part1"><pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Однажды я провёл в размышлениях целый день без еды и целую ночь без сна, но я ничего не добился. Было бы лучше посвятить то время еде и сну.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre><pre><code class="css hljs"><span class="hljs-selector-tag">p</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">580px</span>;

  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>;
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">32em</span>;

  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">white-space</span>: nowrap;
  <span class="hljs-attribute">text-overflow</span>: ellipsis;
}
</code></pre></div></div><p>Для удобства пользователя элементу можно добавить атрибут <code>title</code>
 с&nbsp;полным текстом. В&nbsp;таком случае на&nbsp;компьютерах при 
наведении курсора на&nbsp;«сокращённый» текст будет появляться подсказка
 с&nbsp;полным текстом.</p><pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Однажды я провёл в размышлениях целый день без еды и целую ночь без сна, но я ничего не добился. Было бы лучше посвятить то время еде и сну"</span>&gt;</span>Однажды я провёл в размышлениях целый день без еды и целую ночь без сна, но я ничего не добился. Было бы лучше посвятить то время еде и сну.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre><h2>Многострочный длинный текст</h2><p>Для случая, если 
необходимо поместить в&nbsp;ограниченную область не&nbsp;одну строку, 
а&nbsp;несколько, не&nbsp;всё так просто. CSS-свойство <code>text-overflow: ellipsis</code> для таких элементов не&nbsp;работает. И&nbsp;тут приходиться использовать все возможные «костыли» и&nbsp;«хаки».</p><h3>Обрезание после определённой строки</h3><p>Для этого существует CSS-свойство <code>-webkit-line-clamp</code>. Свойство отрезает строки после указанного их&nbsp;числа.</p><p>У&nbsp;этого свойства есть ряд ограничений: оно&nbsp;<a href="https://caniuse.com/#search=-webkit-line-clamp" target="_blank" rel="nofollow noopener">работает не&nbsp;во&nbsp;всех браузерах</a>
 и&nbsp;не&nbsp;включено в&nbsp;официальную спецификацию. Кроме того, 
свойство работает только в&nbsp;паре с&nbsp;другим устаревшим 
проприетарным свойством <code>display: -webkit-box</code>. И&nbsp;ещё такой метод может оборвать строку в&nbsp;неудачном месте, и&nbsp;смысл высказывания может поменяться.</p><div class="spoiler"><button class="spoiler__button" data-toggle="part2" data-toggle-class="spoiler__button--opened"><span>Замечание</span></button><div class="spoiler__content hidden" data-toggle-area="part2"><p>В&nbsp;старых версиях браузера <i>Opera</i> также работает проприетарное значение <code>text-overflow: -o-ellipsis-lastline</code>. Свойство отрезает часть строки снизу.</p></div></div><p>Например, для длинного текста, который должен уместиться в&nbsp;три строки, можно использовать следующие стили:</p><figure><img src="overflow_files/skill_text_overflow_01.png" srcset="https://assets.htmlacademy.ru/content/skills/5/skill_text_overflow_01@2x.png 2x" alt="Стандартная рыба обрывается после трёх строк текста"><figcaption><span class="figurecaption-inside">Применили свойство <code>-webkit-line-clamp</code> к&nbsp;стандартной рыбе</span></figcaption></figure><div class="spoiler"><button class="spoiler__button" data-toggle="part3" data-toggle-class="spoiler__button--opened"><span>Вёрстка элемента</span></button><div class="spoiler__content hidden" data-toggle-area="part3"><pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Modi ullam amet eaque reiciendis libero possimus et aperiam consequuntur numquam atque sequi fugit aut voluptatum ad, id dignissimos nisi porro veritatis, accusantium neque obcaecati ut repudiandae, quisquam. Similique, quam dolores voluptatibus enim architecto recusandae molestiae soluta. Explicabo ex, reiciendis delectus quisquam, fugiat iusto tempore maiores alias voluptates ratione ipsum ad cupiditate, libero vero cumque dolorum quaerat.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre><pre><code class="сss hljs css"><span class="hljs-selector-tag">p</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">780px</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.5em</span>;

  <b><span class="hljs-attribute">display</span>: -webkit-box;</b>

  <span class="hljs-attribute">text-overflow</span>: ellipsis;
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.5em</span>;

  <b><span class="hljs-attribute">-webkit-line-clamp</span>: <span class="hljs-number">3</span>;
  <span class="hljs-attribute">-webkit-box-orient</span>: vertical;</b>
}
</code></pre></div></div><h3>Скрытие лишнего текста за&nbsp;декоративными элементами</h3><p>В&nbsp;этом методе с&nbsp;помощью псевдоэлемета <code>::after</code>
 добавляется полупрозрачный слой с&nbsp;градиентной заливкой 
и&nbsp;часть символов последней поместившейся строки уходит 
в&nbsp;непрозрачную область. </p><figure><img src="overflow_files/skill_text_overflow_02.png" srcset="https://assets.htmlacademy.ru/content/skills/5/skill_text_overflow_02@2x.png 2x" alt="Стандартная рыба на третьей строке текста уходит в туман"><figcaption><span class="figurecaption-inside">Градиент перекрывает последние слова строки. Настройки зависят от&nbsp;параметров шрифта</span></figcaption></figure><div class="spoiler"><button class="spoiler__button" data-toggle="part4" data-toggle-class="spoiler__button--opened"><span>Вёрстка элемента</span></button><div class="spoiler__content hidden" data-toggle-area="part4"><pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"module fade"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Modi ullam amet eaque reiciendis libero possimus et aperiam consequuntur numquam atque sequi fugit aut voluptatum ad, id dignissimos nisi porro veritatis, accusantium<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><pre><code class="css hljs"><span class="hljs-selector-class">.module</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">780px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1em</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">overflow</span>: hidden;

  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"Merriweather"</span>, <span class="hljs-string">"Georgia"</span>, serif;
  <span class="hljs-attribute">font-style</span>: normal;
  <span class="hljs-attribute">font-weight</span>: normal;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">32px</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333333</span>;
}

<span class="hljs-selector-class">.fade</span> {
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">5.9em</span>; <span class="hljs-comment">/* высота в три строки */</span>
}

<span class="hljs-selector-class">.fade</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">""</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">70%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1.2em</span>;

  <span class="hljs-attribute">text-align</span>: right;

  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to right, rgba(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>),
<span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">1</span>) <span class="hljs-number">50%</span>);
}
</code></pre></div></div><p>Полупрозрачный декоративный элемент может размещаться по&nbsp;всей ширине нижней границы, тогда текст будет выглядеть так:</p><figure><img src="overflow_files/skill_text_overflow_03.png" srcset="https://assets.htmlacademy.ru/content/skills/5/skill_text_overflow_03@2x.png 2x" alt="Третья строка стандартной рыбы растворяется в тумане"><figcaption><span class="figurecaption-inside">Градиент частично перекрывает нижнюю строку. Настройки зависят от&nbsp;параметров шрифта</span></figcaption></figure><div class="spoiler"><button class="spoiler__button" data-toggle="part5" data-toggle-class="spoiler__button--opened"><span>Вёрстка элемента</span></button><div class="spoiler__content hidden" data-toggle-area="part5"><pre><code class="css hljs"><span class="hljs-selector-class">.module</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">780px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1em</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">overflow</span>: hidden;

  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"Merriweather"</span>, <span class="hljs-string">"Georgia"</span>, serif;
  <span class="hljs-attribute">font-style</span>: normal;
  <span class="hljs-attribute">font-weight</span>: normal;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">32px</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333333</span>;
}

<span class="hljs-selector-class">.fade</span> {
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">5.9em</span>; <span class="hljs-comment">/* высота в три строки */</span>
}

<span class="hljs-selector-class">.fade</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">""</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1.2em</span>;

  <span class="hljs-attribute">text-align</span>: right;

  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to bottom, rgba(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>),
<span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">1</span>) <span class="hljs-number">70%</span>);
}
</code></pre></div></div><p>Градиент завязан на&nbsp;размеры шрифта, 
высоту строки, а&nbsp;также внутренние и&nbsp;внешние отступы. При 
их&nbsp;изменении нужно пересчитать значение CSS-свойства высоты области
 (в&nbsp;примерах&nbsp;— с&nbsp;классом <code>fade</code>), а&nbsp;также поправить значения CSS-свойств для псевдоэлемента <code>::after</code>.</p><h3>Использование JavaScript</h3><p>В&nbsp;этом
 способе предполагается, что контейнер для длинного текста имеет 
известную фиксированную высоту, и&nbsp;в&nbsp;ходе выполнения <i>JavaScript</i>
 рассчитывается, какой текст помещается в&nbsp;необходимую область, 
а&nbsp;всё что не&nbsp;поместилось&nbsp;— 
отбрасывается&nbsp;и&nbsp;добавляется символ <code>…</code>.</p><p>Но&nbsp;JS&nbsp;не&nbsp;выполняется
 сразу при показе страницы и&nbsp;может произойти «мигание», когда 
вёрстка уже отобразилась, а&nbsp;затем в&nbsp;течение некоторого времени
 отрабатывает скрипт, подрезающий текст. Подрезки в&nbsp;принципе 
не&nbsp;произойдёт, если JS&nbsp;отключён или не&nbsp;догрузился. 
К&nbsp;тому&nbsp;же расчёт, который выполняется в&nbsp;скрипте, 
увеличивает нагрузку и&nbsp;может привести к&nbsp;подвисанию сайта.</p><h3>Обрезка текста на&nbsp;веб-сервере</h3><p>В&nbsp;этом
 случае с&nbsp;сервера отдаётся уже готовая вёрстка с&nbsp;отрезанной 
частью текста, сам расчёт длины строки и&nbsp;места отреза производится 
в&nbsp;бэкенд-коде. Расчёт обычно проводится по&nbsp;количеству 
символов, а&nbsp;это значит, что слово может быть обрезано 
в&nbsp;середине. Сделать «умный расчёт» возможно, но&nbsp;это, конечно, 
усложнит задачу.</p><p>Способ не&nbsp;универсальный, так как интерфейс 
может измениться, а&nbsp;в&nbsp;этом случае придётся менять 
и&nbsp;серверную часть сайта.</p></div></div></div></div></div></div>

</body></html>