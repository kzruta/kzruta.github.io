function adriver(e,t,n){var a=this,r=e;return this instanceof adriver?("string"==typeof r?r=document.getElementById(e):e=r.id,r?adriver(e)?adriver(e):(a.p=r,a.defer=n,a.prm=adriver.extend(t,{ph:e}),a.loadCompleteQueue=new adriver.queue,a.domReadyQueue=new adriver.queue(adriver.isDomReady),adriver.initQueue.push(function(){a.init()}),adriver.items[e]=a,a):(adriver.isDomReady||adriver.onDomReady(function(){new adriver(e,t,n)}),{})):e?adriver.items[e]:adriver.items}adriver.prototype={isLoading:0,init:function(){},loadComplete:function(){},domReady:function(){},onLoadComplete:function(e){var t=this;return t.loadCompleteQueue.push(function(){e.call(t)}),t},onDomReady:function(e){return this.domReadyQueue.push(e),this},reset:function(){return this.loadCompleteQueue.flush(),this.domReadyQueue.flush(adriver.isDomReady),this}},adriver.extend=function(){for(var e,t,n=arguments[0],a=1,r=arguments.length;a<r;a++)for(t in e=arguments[a])e.hasOwnProperty(t)&&(e[t]instanceof Function?n[t]=e[t]:e[t]instanceof Object?n[t]?adriver.extend(n[t],e[t]):n[t]=adriver.extend(e[t]instanceof Array?[]:{},e[t]):n[t]=e[t]);return n},adriver.extend(adriver,{version:"2.3.9",defaults:{tail256:escape(document.referrer||"unknown")},items:{},options:{},plugins:{},pluginPath:{},redirectHost:"//ad.adriver.ru",defaultMirror:"//content.adriver.ru",loadScript:function(e){try{var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("charset","windows-1251"),n.setAttribute("src",e.split("![rnd]").join(Math.round(9999999*Math.random()))),n.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&(t.removeChild(n),n.onload=null)},n.onload=function(){t.removeChild(n)},t.insertBefore(n,t.firstChild)}catch(e){}},isDomReady:!1,onDomReady:function(e){adriver.domReadyQueue.push(e)},onBeforeDomReady:function(e){adriver.domReadyQueue.unshift(e)},domReady:function(){adriver.isDomReady=!0,adriver.domReadyQueue.execute()},checkDomReady:function(e){try{var t,n,a,r=window,i=r.document,o=function(){adriver.isDomReady||e()};if("complete"===i.readyState)o();else if(i.addEventListener)i.addEventListener("DOMContentLoaded",o,!1),r.addEventListener("load",o,!1);else if(i.attachEvent){a=function(){"complete"===i.readyState&&(i.detachEvent("onreadystatechange",a),o())},i.attachEvent("onreadystatechange",a),r.attachEvent("onload",o),n=!1;try{n=null===r.frameElement&&i.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!adriver.isDomReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}o()}}()}else/WebKit/i.test(navigator.userAgent)?function(){/loaded|complete/.test(i.readyState)?o():setTimeout(arguments.callee,50)}():(t=r.onload,r.onload=function(){t&&t(),o()})}catch(e){}},onLoadComplete:function(e){return adriver.loadCompleteQueue.push(e),adriver},checkLoadComplete:function(){var e,t;for(e in adriver.items)if(adriver.items.hasOwnProperty(e)&&!(t=adriver.items[e]).prm.onScroll&&void 0===t.reply)return!1;return!0},loadComplete:function(){return adriver.checkLoadComplete()&&adriver.loadCompleteQueue.execute(!1),adriver},setDefaults:function(e){adriver.extend(adriver.defaults,e)},setOptions:function(e){adriver.extend(adriver.options,e)},setPluginPath:function(e){adriver.extend(adriver.pluginPath,e)},queue:function(e){this.q=[],this.flag=!!e},Plugin:function(e){return this instanceof adriver.Plugin&&e&&!adriver.plugins[e]&&(this.id=e,this.q=new adriver.queue,adriver.plugins[e]=this),adriver.plugins[e]}}),adriver.sync=function(e,t){if(!adriver.syncFlag){adriver.syncFlag=1;for(var n=[];t--;)n[t]=t+1;n.sort(function(){return.5-Math.random()}),adriver.synchArray=n}return adriver.synchArray[(!e||e<=0?1:e)-1]},adriver.queue.prototype={push:function(e){this.flag?e():this.q.push(e)},unshift:function(e){this.flag?e():this.q.unshift(e)},execute:function(e){for(var t;t=this.q.shift();)t();null==e&&(e=!0),this.flag=!!e},flush:function(e){this.q.length=0,this.flag=!!e}},adriver.Plugin.prototype={loadingStatus:0,load:function(){this.loadingStatus=1,adriver.loadScript((adriver.pluginPath[this.id.split(".").pop()]||adriver.defaultMirror+"/plugins/")+this.id+".js")},loadComplete:function(){return this.loadingStatus=2,this.q.execute(),this},onLoadComplete:function(e){return this.q.push(e),this}},adriver.Plugin.require=function(){var e=this,t=0;e.q=new adriver.queue;for(var n,a=0,r=arguments.length;a<r;a++)2!=(n=new adriver.Plugin(arguments[a])).loadingStatus&&(t++,n.onLoadComplete(function(){1==t--&&e.q.execute()}),n.loadingStatus||n.load());t||e.q.execute()},adriver.Plugin.require.prototype.onLoadComplete=function(e){return this.q.push(e),this},adriver.domReadyQueue=new adriver.queue,adriver.loadCompleteQueue=new adriver.queue,adriver.initQueue=new adriver.queue,adriver.checkDomReady(adriver.domReady),new adriver.Plugin.require("autoUpdate.adriver").onLoadComplete(function(){adriver.initQueue.execute()}),window.addEvent("domready",function(){if(void 0!==window.adriver){var e=$("banner_right_side");if(e)new adriver("banner_right_side",{sid:e.get("data-sid"),bt:52,bn:2,keyword:CUSTOM_TARGET});var t=$("banner_top");if(t)new adriver("banner_top",{sid:t.get("data-sid"),bt:52,bn:1,keyword:CUSTOM_TARGET})}}),window.addEvent("domready",function(){if($$(".button_macbook_contest").addEvent("click",function(){ga("send","event","freelancer","button_pro_macbook_june")}),$$(".create_project_button").addEvent("click",function(){ga("send","event","projects","create_button_click")}),$$(".create_vacancy_button").addEvent("click",function(){ga("send","event","projects","create_landing_vacancy")}),$$(".create_contest_button").addEvent("click",function(){ga("send","event","projects","create_langind_contest")}),$$(".create_tu_button").addEvent("click",function(){ga("send","event","services","create_button_click")}),$$(".choose_freelancer_button").addEvent("click",function(){ga("send","event","catalog","choose_freelancer_click")}),$$(".__ga__landing__buy_pro_click").addEvent("click",function(){ga("send","event","landing","buy_pro_click")}),$$(".__ga__sidebar__add_project").addEvent("click",function(){ga("send","event","customer","sidebar_add_project_clicked","customer"),yaCounterReachGoal("customer_sidebar_add_project_clicked")}),$$(".__ga__sidebar__add_vacancy").addEvent("click",function(){_gaq.push(["_trackPageview","/virtual/employer/button_vacancy_create"]),ga("send","pageview","/virtual/employer/button_vacancy_create")}),$$(".__ga__sidebar__add_contest").addEvent("click",function(){_gaq.push(["_trackPageview","/virtual/employer/button_competition_create"]),ga("send","pageview","/virtual/employer/button_competition_create")}),$$(".__ga__commune__new_post_emp").addEvent("click",function(){_gaq.push(["_trackEvent","User","Employer","button_write_post_community"]),ga("send","event","employer","button_write_post_community")}),$$(".__ga__commune__new_post_frl").addEvent("click",function(){_gaq.push(["_trackEvent","User","Freelance","button_write_post_community"]),ga("send","event","freelance","button_write_post_community")}),$$(".mass_btn_submit")&&$$(".mass_btn_submit").addEvent("click",function(){_gaq.push(["_trackEvent","User","Employer","button_moderation_send_sub"]),ga("send","event","employer","button_moderation_send_sub")}),$$(".__ga__pro__frl_buy").addEvent("click",function(){_gaq.push(["_trackEvent","User","Freelance","button_buy_pro"]),ga("send","event","freelance","button_buy_pro")}),$$(".__ga__pro__emp_buy").addEvent("click",function(){_gaq.push(["_trackEvent","User","Employer","button_buy_pro"]),ga("send","event","employer","button_buy_pro")}),$$(".__ga__project__candidate").addEvent("click",function(){_gaq.push(["_trackEvent","User","Employer","button_project_candidate"]),ga("send","event","employer","button_project_candidate")}),$$(".__ga__project__performer").addEvent("click",function(){_gaq.push(["_trackEvent","User","Employer","button_project_performer"]),ga("send","event","employer","button_project_performer")}),$$(".__ga__project__contest_candidate").addEvent("click",function(){_gaq.push(["_trackEvent","User","Employer","button_contest_candidate"]),ga("send","event","employer","button_contest_candidate")}),$$(".btn_spec_change")&&$$(".btn_spec_change").addEvent("click",function(){_gaq.push(["_trackPageview","/virtual/freelance/spec_profile"]),ga("send","pageview","/virtual/freelance/spec_profile")}),"undefined"!=typeof ComboboxManager){var e=ComboboxManager.getInput("role");e&&e.b_input.addEvent("bcombochange",function(){var t=1==e.id_input.get("value")?"freelancer":"customer";ga("send","event","user","registration_switcher_used",t)})}});var GAEvents=new Class({initialize:function(e){if(Array.isArray(e))for(;e.length>0;)this.send.apply(this,e.pop())},initEvents:function(e){if(p="string"==typeof e?$(e):e,p)t=p.getElements("[data-ga-event]");else var t=$$("[data-ga-event]");t.length&&(self=this,t.forEach(function(e){var t;"true"!==e.get("data-ga-installed")&&(e.set("data-ga-installed",!0),on=e.get("data-ga-on"),on&&"click"!==on?"off"===on||("show"===on?self.trigger(e):"focus"===on?(t=function(){self.trigger(e)},e.addEvent("focus",t),e.addEvent("focusin",t)):console.warn("unknown data-ga-on = ["+on+"] on element: ",e)):e.addEvent("click",function(){if(this.hasClass("b-button_disabled"))return!1;self.trigger(this)}))}))},trigger:function(e){try{var t=JSON.decode(e.get("data-ga-event"));if(Array.isArray(t))for(i=0,l=t.length;i<l;i++)this.send(t[i].ec,t[i].ea,t[i].el,t[i].ev);else this.send(t.ec,t.ea,t.el,t.ev)}catch(t){console.warn("failed to parse data-ga-event = ["+e.get("data-ga-event")+"]:"+t)}},send:function(e,t,n,a){void 0!==e&&""!==e&&("main_menu_clicked"===t&&"/"!==window.location.pathname||(void 0===a&&(a=""),void 0===n&&(n=this.reg_el(t)),void 0!==n&&(n=n.toString(),call=n.split(":"),2===call.length&&"call"===call[0]&&"function"==typeof window[call[1]]&&(n=window[call[1]]())),window._LOCAL&&console.debug("%c[GA]%c category=["+e+"], action=["+t+"], label=["+n+"], value=["+a+"]","background: #ef7a00; color: #fff","background: #a0ffb6; color: #000"),void 0!==window.ga&&(""!=a?window.ga("send","event",e,t,n,a):window.ga("send","event",e,t,n))))},reg_el:function(e){switch(e){case"registration_form_edited":case"registration_captcha_edited":case"registration_regbutton1_clicked":case"registration_login_edited":case"registration_regbutton2_clicked":case"registration_switcher_used":var t=$$(".freelancer");if(t)return t.get("checked")?"freelancer":"customer";var n=$$("[data-ga-el]")[0];if(n)return n.get("data-ga-el");var a=$$(".role_db_id");if(a)return 1==a.get("value")?"freelancer":"customer"}}});window.addEvent("domready",function(){q=[],window.ga_events&&(q=window.ga_events.queue),window.ga_events=new GAEvents(q),window.ga_events.initEvents()});
